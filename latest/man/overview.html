<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · BioSimulator.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>BioSimulator.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li class="current"><a class="toctext" href="overview.html">Overview</a><ul class="internal"><li><a class="toctext" href="#Creating-a-Model-1">Creating a Model</a></li><li><a class="toctext" href="#Running-Simulations-1">Running Simulations</a></li><li><a class="toctext" href="#Simulation-results-1">Simulation results</a></li><li><a class="toctext" href="#Plotting-1">Plotting</a></li></ul></li><li><a class="toctext" href="algorithms.html">Algorithms</a></li><li><a class="toctext" href="examples.html">Examples</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="overview.html">Overview</a></li></ul><a class="edit-page" href="https://github.com/alanderos91/BioSimulator.jl/blob/master/docs/src/man/overview.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Overview</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h1><h2><a class="nav-anchor" id="Creating-a-Model-1" href="#Creating-a-Model-1">Creating a Model</a></h2><p>The <code>Network</code> type is the starting point of the modeling process in BioSimulator.jl. A <code>Network</code> is a system of coupled <code>Species</code> and <code>Reaction</code> channels.</p><h3><a class="nav-anchor" id="Interface-1" href="#Interface-1">Interface</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.Network" href="#BioSimulator.Network"><code>BioSimulator.Network</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Network(id)</code></pre><p>Construct an empty <code>Network</code> representing a system of interacting particles. A particle is represented by a <code>Species</code>, and an interaction is represented by a <code>Reaction</code>.</p><p>Add a <code>Species</code> or <code>Reaction</code> using <code>&lt;=</code>:</p><pre><code class="language-none">m &lt;= Species(&quot;X&quot;, 100) # Adds a Species
m &lt;= Reaction(&quot;birth&quot;, 2.0, &quot;X --&gt; X + X&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/blob/fbded1f412146b0a1a75a0b3496d9515348902ba/src/interface/network.jl#L1-L14">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.Species" href="#BioSimulator.Species"><code>BioSimulator.Species</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Species(id, [value=0])</code></pre><p>Define a <code>Species</code> with a <code>name</code> and initial population <code>value</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/blob/fbded1f412146b0a1a75a0b3496d9515348902ba/src/interface/species.jl#L3-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.Reaction" href="#BioSimulator.Reaction"><code>BioSimulator.Reaction</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Reaction(name, rate, formula)</code></pre><p>Define a <code>Reaction</code> with a <code>name</code>, a stochastic <code>rate</code> constant, and a <code>formula</code>.</p><p>The <code>formula</code> should use <code>Species</code> from a <code>Network</code>. Multiple reactants are separated by a <code>+</code> symbol; similarly for products. Reactants and products are separated by a <code>--&gt;</code> symbol. Refer to the examples below:</p><p><strong>Examples</strong></p><ul><li><p>Reaction(&quot;birth&quot;, 1.0, &quot;X –&gt; X + X&quot;)</p></li><li><p>Reaction(&quot;death&quot;, 0.5, &quot;X –&gt; 0&quot;) # no products</p></li><li><p>Reaction(&quot;immigration&quot;, 0.5, &quot;0 –&gt; X&quot;) # no reactants</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/blob/fbded1f412146b0a1a75a0b3496d9515348902ba/src/interface/reaction.jl#L1-L14">source</a></section><h2><a class="nav-anchor" id="Running-Simulations-1" href="#Running-Simulations-1">Running Simulations</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.simulate" href="#BioSimulator.simulate"><code>BioSimulator.simulate</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">simulate(model::Network, algname::T, [output_type::Val{S} = Val(:fixed)]; time::Float64=1.0, epochs::Int=1, trials::Int=1, track_stats::Bool=false, kwargs...) where {T,S}</code></pre><p>Simulate a <code>model</code> with <code>algname</code>. The simulation routine will run until the termination <code>time</code> for the given number of <code>trials</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>model</code>: The <code>Network</code> to simulate.</p></li><li><p><code>algname</code>: The name of the algorithm to carry out the simulation. One of <code>Direct()</code>, <code>FirstReaction()</code>, <code>NextReaction()</code>, <code>OptimizedDirect()</code>, <code>TauLeaping()</code>, or <code>StepAnticipation()</code>.</p></li><li><p><code>output_type = Val(:fixed)</code>: The type of output to record. The <code>Val(:full)</code> option records every simulation step, whereas the <code>Val(:fixed)</code> option records a fixed number of <code>epochs</code>.</p></li></ul><p><strong>Optional Arguments</strong></p><ul><li><p><code>time = 1.0</code>: The amount of time to simulate the model, in units of the model.</p></li><li><p><code>epochs = 1</code>: The number of times to sample the vector of counts.</p></li><li><p><code>trials = 1</code>: The number of independent realizations to generate.</p></li><li><p><code>track_stats = false</code>: An option to toggle tracking algorithm statistics (e.g. number of steps).</p></li><li><p><code>kwargs</code>: Additional keyword arguments specific to each algorithm. Reference a specific <code>algname</code> for details.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/blob/fbded1f412146b0a1a75a0b3496d9515348902ba/src/interface/simulate.jl#L1-L22">source</a></section><h3><a class="nav-anchor" id="Parallelization-1" href="#Parallelization-1">Parallelization</a></h3><p>One can start Julia with the <code>--procs=N</code> option to enable parallelization. Here <code>N</code> is the number of threads available. In this case, the <code>simulate</code> routine will automatically delegate individual simulations to each available thread until the total number of <code>trials</code> is satisfied.</p><h2><a class="nav-anchor" id="Simulation-results-1" href="#Simulation-results-1">Simulation results</a></h2><p>The result of <code>simulate</code> is a <code>SimulationSummary</code> that stores information about a model, the algorithm used in a simulation, and simulation results. We summarize the fields of a <code>result</code> of type <code>SimulationSummary</code> below:</p><ul><li><p><code>result.model</code>: The <code>Network</code> that was simulated.</p></li><li><p><code>result.algorithm_name</code>: The name of the algorithm used in the simulation.</p></li><li><p><code>result.algorithm_params</code>: The settings for the algorithm, including the epochs, time span, and trials used.</p></li><li><p><code>result.algorithm_stats</code>: Any statistics for the algorithm used. Direct methods simply record the number of steps taken over all trials. Tau-leaping methods also record the number of negative excursions and the number of times the recovery mechanism is used.</p></li><li><p><code>result.simulation_data</code>: The results of the simulation. It is a vector whose elements are <code>SamplePaths</code> (using the <code>Val(:full)</code> option) or <code>RegularPaths</code> (using the <code>Val(:fixed)</code> option).</p></li><li><p><code>result.id2index</code>: A dictionary that maps the name of a species to an index into the state vector <span>$\mathbf{X}_{t}$</span>.</p></li></ul><h3><a class="nav-anchor" id="SamplePath-output-1" href="#SamplePath-output-1">SamplePath output</a></h3><p>Using the <code>Val(:full)</code> option for <code>simulate</code> records the state vector of the process after every event. In this case, the <code>simulation_data</code> field is a vector of <code>SamplePath</code>s. Each entry of the vector is an individual realization of the process. A <code>SamplePath</code> is a variable-length collection of records at various time points. Given a <code>SamplePath</code>, say <code>xw</code>, one can access the time points by <code>xw.tdata</code> and the states by <code>xw.xdata</code>. Specifically, the <code>i</code>-th record corresponds to a state <span>$\mathbf{X}_{t_{i}}$</span> at time <span>$t_{i}$</span>.</p><p>The advantage of <code>SamplePath</code> output and the <code>Val(:full)</code> option is that one can recover the distribution of each species at different points in time.</p><h3><a class="nav-anchor" id="RegularPath-output-1" href="#RegularPath-output-1">RegularPath output</a></h3><p>Using the <code>Val(:fixed)</code> option for <code>simulate</code> records the state vector at pre-defined intervals determined by the <code>epochs</code> option. Given that <code>epochs = n</code>, the time span of a simulation is broken up into <code>n</code> intervals of equal length. After each step, the simulation checks to see if it has stepped over into the next epoch. If it has, then it records the last state as the value of the stochastic process at the <em>previous</em> epoch. This option produces a vector of <code>RegularPath</code>s, with each entry corresponding to an independent realization of the process. Each <code>RegularPath</code> has the fields <code>tdata</code> and <code>xdata</code> representing time points and states, respectively. Importantly, <code>xdata</code> is a pre-allocated matrix with column <code>i</code> storing the value <span>$\mathbf{X}_{t_{i}}$</span>.</p><p>One advantage of <code>RegularPath</code> output and the <code>Val(:fixed)</code> option is a slight performance boost attributed to minimal dynamic memory allocation. This advantage may disappear if one uses far more <code>epochs</code> than the expected number of events in a given time span. However, care must be taken in choosing the number of epochs. Using too few epochs may grossly simplify the observed qualitative behavior in visualizations. Moreover, only the last save point may be used to reliably estimate a probability distribution. Another advantage of this option is that <code>RegularPath</code>s facilitate computing summary statistics, including mean trajectories.</p><h2><a class="nav-anchor" id="Plotting-1" href="#Plotting-1">Plotting</a></h2><p>BioSimulator.jl provides plot recipes that operates on a <code>SimulationSummary</code>. The basic interface is as follows:</p><pre><code class="language-julia">plot(result::SimulationSummary{T}; plot_type = :trajectory,
    trial = nothing, species = nothing, epochs = nothing) where T</code></pre><p>There are three different options for <code>plot_type</code>: <code>:trajectory</code>, <code>:meantrajectory</code>, and <code>:histogram</code>. Each of these options may be modulated by the <code>trial</code>, <code>species</code>, and <code>epochs</code> options.</p><h3><a class="nav-anchor" id="Trajectory-1" href="#Trajectory-1">Trajectory</a></h3><p>The <code>plot_type = :trajectory</code> option produces the time evolution of a single realization of the underlying stochastic process. The <code>trial</code> option can be used to select different realizations. The <code>species</code> option can be used to specify a vector of species to plot in a figure.</p><h3><a class="nav-anchor" id="Mean-Trajectory-1" href="#Mean-Trajectory-1">Mean Trajectory</a></h3><p>The <code>plot_type = :meantrajectory</code> option produces the <em>averaged</em> time evolution of the underlying stochastic process. The expected value of a particular species is plotted as a point at evenly spaced intervals. Error bars denote one standard deviation away from the mean. Note that this option is fully compatible with the <code>Val(:full)</code> option by discretizing the time span. This is achieved by passing a value for the <code>epochs</code> option. The <code>species</code> option can be used to specify a vector of species to plot in a figure.</p><h3><a class="nav-anchor" id="Histogram-1" href="#Histogram-1">Histogram</a></h3><p>The <code>plot_type = :histogram</code> option produces an estimate of the distribution of the process at the final time point in the simulation. The <code>species</code> option can be used to specify a vector of species to plot in a figure.</p><footer><hr/><a class="previous" href="../index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="algorithms.html"><span class="direction">Next</span><span class="title">Algorithms</span></a></footer></article></body></html>
