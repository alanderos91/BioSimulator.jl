<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developers · BioSimulator.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../../versions.js"></script></head><body><nav class="toc"><h1>BioSimulator.jl</h1><form class="search" action="../search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><a class="toctext" href="overview.html">Overview</a></li><li><a class="toctext" href="modeling.html">Modeling</a></li><li><a class="toctext" href="algorithms.html">Algorithms</a></li><li><a class="toctext" href="examples.html">Examples</a></li><li><a class="toctext" href="benchmarks.html">Benchmarks</a></li><li class="current"><a class="toctext" href="developers.html">Developers</a><ul class="internal"><li><a class="toctext" href="#The-simulate-Routine-1">The <code>simulate</code> Routine</a></li><li><a class="toctext" href="#The-Algorithm-Interface-1">The <code>Algorithm</code> Interface</a></li></ul></li><li><a class="toctext" href="references.html">References</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="developers.html">Developers</a></li></ul><a class="edit-page" href="https://github.com/alanderos91/BioSimulator.jl/tree/67e753ab565f1fc95535967de7f688c9be37566f/docs/src/man/developers.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Developers-1" href="#Developers-1">Developers</a></h1><h2><a class="nav-anchor" id="The-simulate-Routine-1" href="#The-simulate-Routine-1">The <code>simulate</code> Routine</a></h2><p>The flexibility of the <code>simulate</code> routine allows one to easily implement additional algorithms:</p><pre><code class="language-julia">function serial_simulate(...)

  init!(algorithm, Xt, r)

  for i in 1:max_trials
    copy!(Xt, X0)
    update_all_propensities!(a, r, Xt)
    reset!(algorithm, a)
    interval = 1

    while !done(algorithm)
      interval = update!(output, Xt, get_time(algorithm), interval, i)
      step!(algorithm, Xt, r)
    end

    interval = update!(output, Xt, get_time(algorithm), interval, i)
  end

  return output
end</code></pre><p>Here is a breakdown of what happens:</p><ul><li><p><code>init!(...)</code>: This performs any initial computations and data structure setup to avoid allocating memory within a loop.</p></li><li><p><code>for i in 1:max_trials</code>: This loop iterates over independent simulations.</p></li><li><p><code>copy!(...)</code>: Reset the populations to their initial values.</p></li><li><p><code>reset!(...)</code>: Reset algorithm variables and data structures.</p></li><li><p><code>while !done(...)</code>: The main loop in the algorithm.</p></li><li><p><code>update!(...)</code>: Sample the state vector and record it as needed.</p></li><li><p><code>step!(...)</code>: Execute one step in the algorithm.</p></li></ul><p>Thus, one simply needs to implement the <code>init!</code>, <code>reset!</code>, and <code>step!</code> functions for an algorithm.</p><h2><a class="nav-anchor" id="The-Algorithm-Interface-1" href="#The-Algorithm-Interface-1">The <code>Algorithm</code> Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.Algorithm" href="#BioSimulator.Algorithm"><code>BioSimulator.Algorithm</code></a> — <span class="docstring-category">Type</span>.</div><div><p>An abstract type that species a common interface for all algorithms implemented in BioSimulator.</p><p>All concrete <code>Algorithm</code> types should be immutable and avoid subtyping <code>Algorithm</code> directly; see <code>ExactMethod</code> and <code>TauLeapMethod</code>. The following are normally implemented for <code>Algorithm</code>:</p><ul><li><p><code>get_time</code> : Return the current simulation time.</p></li><li><p><code>end_time</code> : Return the termination time specified by the user.</p></li><li><p><code>done</code> : Has the simulation terminated? Defaults to <code>time &gt;= end_time</code>.</p></li><li><p><code>init!</code> : Initialize an <code>Algorithm</code> prior to simulation. Memory allocation should happen here because it occurs outside loops in the main simulation routine.</p></li><li><p><code>step!</code> : Carry out a simulation step. This should (1) update simulation time, (2) update the species counts, (3) update propensities, and (4) update any relevant data structures.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/tree/67e753ab565f1fc95535967de7f688c9be37566f/src/algorithm/algorithm.jl#L2-L12">source</a><br/></section><h3><a class="nav-anchor" id="The-ExactMethod-Interface-1" href="#The-ExactMethod-Interface-1">The <code>ExactMethod</code> Interface</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.ExactMethod" href="#BioSimulator.ExactMethod"><code>BioSimulator.ExactMethod</code></a> — <span class="docstring-category">Type</span>.</div><div><p>An <code>ExactMethod</code> is an abstract type for algorithms that are equivalent to Gillespie&#39;s method for stochastic simulation.</p><p>It subtypes the <code>Algorithm</code> type and provides:</p><ul><li><p><code>reset!</code> : This method defaults to resetting the interal simulation time for an <code>ExactMethod</code> after each trial.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/tree/67e753ab565f1fc95535967de7f688c9be37566f/src/algorithm/algorithm.jl#L31-L37">source</a><br/></section><h3><a class="nav-anchor" id="The-TauLeapMethod-Interface-1" href="#The-TauLeapMethod-Interface-1">The <code>TauLeapMethod</code> Interface</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioSimulator.TauLeapMethod" href="#BioSimulator.TauLeapMethod"><code>BioSimulator.TauLeapMethod</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A <code>TauLeapMethod</code> is an abstract type for algorithms that utilize the <code>τ-leaping</code> strategy to accelerate simulation.</p><p>It subtypes the <code>Algorithm</code> type and provides:</p><ul><li><p><code>events</code> : Returns the number of reaction events.</p></li><li><p><code>reset!</code> : This method defaults to resetting the internal simulation time for a <code>TauLeapMethod</code> after each trial.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/alanderos91/BioSimulator.jl/tree/67e753ab565f1fc95535967de7f688c9be37566f/src/algorithm/algorithm.jl#L48-L55">source</a><br/></section><footer><hr/><a class="previous" href="benchmarks.html"><span class="direction">Previous</span><span class="title">Benchmarks</span></a><a class="next" href="references.html"><span class="direction">Next</span><span class="title">References</span></a></footer></article></body></html>
